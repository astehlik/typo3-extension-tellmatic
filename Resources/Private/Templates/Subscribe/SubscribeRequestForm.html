{namespace tm=Sto\Tellmatic\ViewHelpers}

<div class="tx-tellmatic tx-tellmatic-subscribe tx-tellmatic-subscribe-subscriberequestform">

	<h2>Anmeldung</h2>

	<p>Bitte füllen Sie das folgende Formular aus, um sich für unseren Newsletter anzumelden.</p>

	<p>Alternativ können Sie Ihre <f:link.action action="updateRequestForm">Daten
		aktualisieren</f:link.action> oder den <f:link.action action="updateRequestForm">Newsletter
		abbestellen</f:link.action>.</p>

	<f:form action="subscribeRequest" method="post" enctype="multipart/form-data">

		<f:render partial="Subscription/Errors" arguments="{_all}" />

		<tm:form.validatedControlGroup for="email">
			<label class="control-label" for="email">E-Mail
				<span class="form-required-label" title="Pflichtfeld">*</span></label>
			<tm:form.inlineHelpOrErrors />
			<f:form.textfield class="form-control" id="email" type="text" name="email" />
		</tm:form.validatedControlGroup>

		<tm:form.validatedControlGroup for="additionalData.f0">
			<label class="control-label" for="salutation">Anrede</label>
			<tm:form.inlineHelpOrErrors />
			<f:form.select id="salutation" class="form-control" name="additionalData[f0]" options="{salutationOptions}" />
		</tm:form.validatedControlGroup>

		<tm:form.validatedControlGroup for="additionalData.f1">
			<label class="control-label" for="firstname">Vorname</label>
			<tm:form.inlineHelpOrErrors />
			<f:form.textfield id="firstname" class="form-control" name="additionalData[f1]" />
		</tm:form.validatedControlGroup>

		<tm:form.validatedControlGroup for="additionalData.f2">
			<label class="control-label" for="lastname">Nachname</label>
			<tm:form.inlineHelpOrErrors />
			<f:form.textfield id="lastname" class="form-control" name="additionalData[f2]" />
		</tm:form.validatedControlGroup>

		<tm:form.validatedControlGroup for="additionalData.f3">
			<label class="control-label" for="lastname">Firma</label>
			<tm:form.inlineHelpOrErrors />
			<f:form.textfield id="lastname" class="form-control" name="additionalData[f3]" />
		</tm:form.validatedControlGroup>

		<f:if condition="{settings.privacyPolicy.checkRequired}">
			<tm:form.validatedControlGroup for="acceptConditions">
				<label class="control-label">Datenschutz</label>
				<tm:form.inlineHelpOrErrors />
				<div class="checkbox">
					<label>
						<f:form.checkbox name="acceptConditions" value="true" checked="{acceptConditions}" />
						<f:if condition="{settings.privacyPolicy.linkParameter}">
							<f:then>Ich stimme den <tm:link.typolink parameter="{settings.privacyPolicy.linkParameter}">Datenschutzbestimmungen</tm:link.typolink> zu.</f:then>
							<f:else>Ich stimme den Datenschutzbestimmungen zu.</f:else>
						</f:if>
					</label>
				</div>
			</tm:form.validatedControlGroup>
		</f:if>

		<div class="form-group">
			<f:form.submit class="btn btn-default" value="Absenden" />
		</div>

	</f:form>

</div>